/**
 * Minified by jsDelivr using UglifyJS v3.0.24.
 * Original file: /npm/instantclick2@1.1.0/src/instantclick.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var instantClick,InstantClick=instantClick=function(e,t,n){function r(e){var t=e.indexOf("#");return t<0?e:e.substr(0,t)}function i(e){for(;e&&"A"!=e.nodeName;)e=e.parentNode;return e}function o(e){do{if(!e.hasAttribute)break;if(e.hasAttribute("data-instant"))return!1;if(e.hasAttribute("data-no-instant"))return!0}while(e=e.parentNode);return!1}function a(e){var n=t.protocol+"//"+t.host;return!(e.target||e.hasAttribute("download")||0!=e.href.indexOf(n+"/")||e.href.indexOf("#")>-1&&r(e.href)==L||o(e))}function s(e,t,n,r){for(var i=!1,o=0;o<q[e].length;o++)if("receive"==e){var a=q[e][o](t,n,r);a&&("body"in a&&(n=a.body),"title"in a&&(r=a.title),i=a)}else q[e][o](t,n,r);return i}function f(n,i,o,a,f){if(e.documentElement.replaceChild(i,e.body),o){t.href!==o&&history.pushState(null,null,o);var d=o.indexOf("#"),c=d>-1&&e.getElementById(o.substr(d+1)),l=0;if(c)for(;c.offsetParent;)l+=c.offsetTop,c=c.offsetParent;scrollTo(0,l),L=r(o)}else scrollTo(0,a);M&&e.title==n?e.title=n+String.fromCharCode(160):e.title=n,b(),f?s("restore"):s("change",!1)}function d(){F=!1,K=!1}function c(e){return e.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function l(e){if(!(A>+new Date-500)){var t=i(e.target);t&&a(t)&&T(t.href)}}function u(e){if(!(A>+new Date-500)){var t=i(e.target);t&&a(t)&&(t.addEventListener("mouseout",v),H?(C=t.href,E=setTimeout(T,H)):T(t.href))}}function h(e){A=+new Date;var t=i(e.target);t&&a(t)&&(D?t.removeEventListener("mousedown",l):t.removeEventListener("mouseover",u),T(t.href))}function p(e){var t=i(e.target);t&&a(t)&&(e.which>1||e.metaKey||e.ctrlKey||(e.preventDefault(),w(t.href)))}function v(){if(E)return clearTimeout(E),void(E=!1);F&&!K&&(x.abort(),d())}function m(e){var t={},n=e.getResponseHeader("Content-Type");return t.isFromCache=!0,t.readyState=e.readyState,t.status=e.status,t.responseText=e.responseText,t.getResponseHeader=function(e){return n},t}function g(t){if(!(t.readyState<4)&&0!=t.status){if(I.ready=+new Date-I.start,t.isFromCache||(Y[N]=m(t),S[N]=(new Date).getTime()),t.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var n=e.implementation.createHTMLDocument("");n.documentElement.innerHTML=c(t.responseText),R=n.title,B=n.body;var i=s("receive",N,B,R);i&&("body"in i&&(B=i.body),"title"in i&&(R=i.title));var o=r(N);k[o]={body:B,title:R,scrollY:o in k?k[o].scrollY:0};for(var a,f,d=n.head.children,l=0,u=0;u<d.length;u++)if((a=d[u]).hasAttribute("data-instant-track")){f=a.getAttribute("href")||a.getAttribute("src")||a.innerHTML;for(var h=0;h<P.length;h++)P[h]==f&&l++}l!=P.length&&(j=!0)}else j=!0;K&&(K=!1,w(N))}}function y(){var e=r(t.href);e!=L&&(e in k?(k[L].scrollY=pageYOffset,L=e,f(k[e].title,k[e].body,!1,k[e].scrollY,!0)):t.href=t.href)}function b(t){if(e.body.addEventListener("touchstart",h,!0),D?e.body.addEventListener("mousedown",l,!0):e.body.addEventListener("mouseover",u,!0),e.body.addEventListener("click",p,!0),!t)for(var n,r,i,o,a=e.body.getElementsByTagName("script"),s=0,f=a.length;s<f;s++)(n=a[s]).hasAttribute("data-no-instant")||(r=e.createElement("script"),n.src&&(r.src=n.src),n.innerHTML&&(r.innerHTML=n.innerHTML),i=n.parentNode,o=n.nextSibling,i.removeChild(n),i.insertBefore(r,o))}function T(e){!D&&"display"in I&&+new Date-(I.start+I.display)<100||(E&&(clearTimeout(E),E=!1),e||(e=C),F&&(e==N||K)||(F=!0,K=!1,N=e,B=!1,j=!1,I={start:+new Date},s("fetch"),Y[N]&&S[N]+O>(new Date).getTime()?g(Y[N]):(x.open("GET",e),x.send())))}function w(e){if("display"in I||(I.display=+new Date-I.start),E||!F)return E&&N&&N!=e?void(t.href=e):(T(e),s("wait"),void(K=!0));if(K)t.href=e;else if(j)t.href=N;else{if(!B)return s("wait"),void(K=!0);k[L].scrollY=pageYOffset,d(),f(R,B,N)}}var L,C,E,A,x,D,H,M=n.indexOf(" CriOS/")>-1,O=3e4,S={},Y={},k={},N=!1,R=!1,j=!1,B=!1,I={},F=!1,K=!1,P=[],q={fetch:[],receive:[],wait:[],change:[],restore:[]},G="pushState"in history&&(!n.match("Android")||n.match("Chrome/"))&&"file:"!=t.protocol;return{supported:G,init:function(n){var i;if("object"!=typeof n?i=n:(i=n.preloadingMode||0,void 0!==n.preloadCacheTimeLimit&&(O=n.preloadCacheTimeLimit)),!L)if(G){"mousedown"==i?D=!0:"number"==typeof i&&(H=i),L=r(t.href),k[L]={body:e.body,title:e.title,scrollY:pageYOffset};for(var o,a,f=e.head.children,d=0;d<f.length;d++)(o=f[d]).hasAttribute("data-instant-track")&&(a=o.getAttribute("href")||o.getAttribute("src")||o.innerHTML,P.push(a));(x=new XMLHttpRequest).addEventListener("readystatechange",function(){g(x)}),b(!0),s("change",!0),addEventListener("popstate",y)}else s("change",!0)},on:function(e,t){q[e].push(t)}}}(document,location,navigator.userAgent);"object"==typeof module&&"object"==typeof module.exports&&(module.exports=InstantClick);
//# sourceMappingURL=/sm/3e08e2f5b95e4d92946b02fd81a95a11532eca43b470e6fb9ff4b560b07b2c59.map